---
layout: post
title: Git上手
---

## 常用命令

### 分支

#### 查看本地分支

```
git branch
```

#### 删除本地分支

```
git branch -d <branch_name>
```

#### 重命名本地分支

```
git branch -m <branch_old> <branch_new>
```


#### 查看本地及远程所有分支

```
git branch -a
```

#### 删除远程分支

```
git push origin --delete <branch_name>
```

### pull/push/commit/checkout

#### commit代码

```
// 加上“点”，会自动将已被tracked的文件的修改commit上去。
// 如果不加“点”，需要自己先add，再commit
// 其实是2步操作：add / commit
git commit . -m 'comments'

// 以上等价于
git commit -a -m 'comments'

// 仅仅添加已经被tracked的文件的修改
git add -u
```

#### 替换本地没有commit的修改
```
// 一个文件a.txt，你已经在上面修改了一些内容，但没有commit。这时，不想要这些修改了，需要通过如下命令将git服务器上最新的a.txt文件checkout下来替换本地的a.txt。
git checkout -- 'a.txt'
```

#### 不track某个文件
```
// 不想git继续track某个文件
git rm --cached [file_name]

// 从git版本控制中删除文件，同时在本地删除该文件
git rm [file_name]
```




## fetch&&rebase&&push 推荐的更新提交流程

甲在本地修改了一些内容，并且commit到本地git后。这时他想将修改push到服务器上。

推荐的做法如下：

step1：fetch远程服务器的最新改动。

```
// 如果远程服务器上已有改动，fetch之后，这些改动并不会同步到本地分支中。
git fetch
```

step2：rebase自己commit到本地的改动

```
// 如果远程已有更新，应该会产生conflict
git rebase
```

step3：解决conflict。

step4：标记文件的conflict已被解决

```
// add文件相当于mark conflict resovled
git add [file_name]
```

step5：继续rebase

```
git rebase --continue
```

step6：push自己的改动到服务器

```
git push origin master
```

**也有另外一种方式：**

```
git pull --rebase // 完成2步操作，先fetch，然后rebase

// 如果出现冲突，先解决冲突，然后通过git add
git add [file_name]

// 继续完成rebase
git rebase --continue

// push代码到origin
git push origin master

```




